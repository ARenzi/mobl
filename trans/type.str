module type

imports
  include/MoBL
  rename
  lookup
  
strategies

  type-of = eq-type-of <+ ?Var(<id>); TypeOf
  
  eq-type-of :
    Int(_) -> SimpleType(QId("core", "Int"))
    
  eq-type-of :
    String(_) -> SimpleType(QId("core", "String"))
  
  eq-type-of :
    Call(qid, e*) -> rt
    where ExternalFunction(_, _, rt) := <lookup-function> (qid, <map(type-of)> e*)
  
  eq-type-of :
    FieldAccess(e, x) -> <lookup-property> (<type-of> e, x)
